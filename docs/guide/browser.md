# 浏览器原理

## 你是怎么看待浏览器的同源策略？

同源策略限制了从同⼀个源加载的⽂档或脚本如何与来⾃另⼀个源的资源进⾏交互。这是⼀个⽤于隔离潜在恶意⽂件的 重要安全机制。

同源是指"协议+域名+端⼝"三者相同，即便两个不同的域名指向同⼀个ip地址，也⾮同源。

## 如何实现跨域？

::: tip
跨域老生常谈
:::  
**最流⾏的跨域⽅案cors**

简单请求

1、请求方法：GET、HEAD或者POST，

2、HTTP的头信息不超出以下几种字段：

- Accept

- Content-Language

- Content-type为以下几种：
application/x-www-form-urlencoded, multipart/form-data或着text/plain

- 无自定义头；

非简单请求：简单请求之外

**最⽅便的跨域⽅案Nginx**

## 输入URL变化

**输入URL到页面展示过程**：DNS解析 TCP连接 SSL握手 发送HTTP请求 服务器处理请求并返回HTTP报文 浏览器解析渲染页面 Ajax交互 连接结束

- 首先，在浏览器地址栏中输入url
- 浏览器先查看浏览器缓存-系统缓存-路由器缓存，如果缓存中有，会直接在屏幕中显示页面内容。若没有，则跳到第三步操作。
- 在发送http请求前，需要域名解析(DNS解析)，解析获取相应的IP地址。
- 浏览器向服务器发起tcp连接，与浏览器建立tcp三次握手。
- SSL/ TLS 握手
- 握手成功后，浏览器向服务器发送http请求，请求数据包。
- 服务器处理收到的请求，将数据返回至浏览器

- 浏览器收到HTTP响应
- 读取页面内容，浏览器渲染，解析html源码
- 生成Dom树、渲染树，解析css样式、js交互
- 客户端和服务器交互
- Ajax查询
